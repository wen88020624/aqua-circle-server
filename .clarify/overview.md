# Discovery 釐清項目總覽

## 釐清項目統計

- 資料模型相關：4 項
- 功能模型相關：3 項
- 總計：7 項

## 優先級分佈

- High：0 項
- Medium：5 項
- Low：2 項

## 建議釐清順序

**核心原則**：由核心至延伸、平衡資料與功能分佈。

### 第一階段：核心資料模型
**優先處理影響最大的實體與關係**

### 第二階段：核心功能規則
**處理主要業務流程的規則完整性**

### 第三階段：安全性與業務邏輯
**處理安全相關的核心規則**

### 第四階段：邊界條件與跨模型關聯
**處理資料與功能的邊界情況**

10. **WaterChange_換水量的數值限制為何** (High)
    - 原因：水質管理的核心驗證邏輯

11. **Feed_飼料狀態的所有可能值為何** (Medium)
    - 原因：飼料庫存管理的狀態定義

12. **FilterMedia_濾材操作類型的所有可能值為何** (Medium)
    - 原因：維護記錄的操作分類

13. **WaterQualityRecord_水質檢測種類的所有可能值為何** (Medium)
    - 原因：水質監控的完整性

14. **通用_查詢功能是否需要分頁或排序** (Medium)
    - 原因：影響所有查詢功能的效能設計

### 第五階段：細節與優化
**處理剩餘的低優先級項目**

15. **Aquarium_魚缸名稱是否需要保持唯一性** (Medium)
    - 原因：影響使用者體驗和資料查詢邏輯

16. **通用_當查詢不存在的資料時應如何回應** (Medium)
    - 原因：統一錯誤處理策略

17. **通用_更新功能是否需要樂觀鎖定機制** (Low)
    - 原因：併發控制的技術細節

## 釐清策略說明

### 平衡原則
避免連續處理同一類別的問題，在資料模型與功能模型間交替進行，確保核心實體定義完成後再處理相關功能規則。

### 依賴關係
- 魚缸狀態定義 → 魚隻新增功能的前置條件
- 金額欄位規則 → 所有包含金額的實體驗證邏輯
- 實體狀態定義 → 相關管理功能的業務規則

### 組合釐清
可一併處理的相關項目：
- 所有狀態屬性的值定義（魚缸、設備、魚隻、飼料）
- 通用查詢功能的行為定義（分頁、排序、錯誤處理）
- 安全性檢查規則（飼料狀態、藥品到期）

## 覆蓋度摘要

### A. 領域與資料模型檢查

- **A1. 實體完整性**：Clear - 所有核心業務概念已建模
- **A2. 屬性定義**：Partial - 已建立 4 個釐清項目（狀態屬性定義）
- **A3. 屬性值邊界條件**：Partial - 已建立 3 個釐清項目（數值限制）
- **A4. 跨屬性不變條件**：Clear - 無明確需求
- **A5. 關係與唯一性**：Partial - 已建立 1 個釐清項目（唯一性約束）
- **A6. 生命週期與狀態**：Partial - 已建立 2 個釐清項目（操作類型、檢測種類）

### B. 功能模型檢查

- **B1. 功能識別**：Partial - 已建立 4 個釐清項目（前置條件）
- **B2. 規則完整性**：Partial - 已建立 2 個釐清項目（查詢行為、併發控制）
- **B3. 例子覆蓋度**：Missing - 所有規則都標記為 #TODO，需後續補充
- **B4. 邊界條件覆蓋**：Missing - 尚未定義具體的邊界案例
- **B5. 錯誤與異常處理**：Partial - 已建立 1 個釐清項目（錯誤回應）

### C. 術語與一致性檢查

- **C1. 詞彙表**：Clear - 術語使用一致
- **C2. 術語衝突**：Clear - 無明顯衝突

### D. 其他品質檢查

- **D1. 待決事項**：Missing - 大量 #TODO 標記需處理
- **D2. 模糊描述**：Clear - 描述相對明確

## 下一步行動

執行 `formulation.md` prompt 進行互動式釐清，建議按照上述順序逐項處理釐清項目，優先完成 High 優先級項目以建立穩固的核心架構基礎。