Feature: 餵食記錄管理
  
  Rule: 新增餵食記錄時只能選擇 tag 為「飼料」的耗材
    Example: 選擇 tag 為「飼料」的耗材，成功新增餵食記錄
      Given 耗材「紅蟲」tag 為「飼料」
      And 魚缸「主缸」存在
      When 使用者在魚缸「主缸」中新增餵食記錄，選擇耗材「紅蟲」
      Then 餵食記錄被成功新增

    Example: 選擇 tag 不為「飼料」的耗材，新增餵食記錄失敗
      Given 耗材「藥品 A」tag 為「藥品」
      And 魚缸「主缸」存在
      When 使用者在魚缸「主缸」中新增餵食記錄，選擇耗材「藥品 A」
      Then 操作失敗
      And 系統提示「只能選擇 tag 為「飼料」的耗材」
  
  Rule: 新增餵食記錄時檢查耗材狀態，過期飼料給予警告但仍可使用
    Example: 使用正常飼料新增餵食記錄
      Given 耗材「紅蟲」tag 為「飼料」且有限期限為未來日期
      And 魚缸 1 存在
      When 使用者在魚缸 1 中新增餵食記錄，選擇 tag 為「飼料」的耗材「紅蟲」
      Then 餵食記錄被成功新增
    
    Example: 使用過期飼料新增餵食記錄會顯示警告
      Given 耗材「魚食 B」tag 為「飼料」且狀態為「過期」
      And 魚缸「主缸」存在
      When 使用者在魚缸「主缸」中新增餵食記錄，選擇 tag 為「飼料」的耗材「魚食 B」
      Then 餵食記錄被成功新增
      And 系統顯示警告訊息「飼料已過期，請注意生物健康」
  
  Rule: 使用者可以在魚缸中新增餵食記錄，並設定餵食記錄的日期、選擇 tag 為「飼料」的耗材、備註、所屬魚缸
    Example: 新增餵食記錄，設定所有欄位，成功新增
      Given 耗材「紅蟲」tag 為「飼料」
      And 魚缸「主缸」存在
      When 使用者新增餵食記錄，日期為「2025-01-01」，選擇耗材「紅蟲」，備註為「早上餵食」，所屬魚缸為「主缸」
      Then 餵食記錄被成功新增
      And 餵食記錄的日期為「2025-01-01」
      And 餵食記錄使用的耗材為「紅蟲」
      And 餵食記錄的備註為「早上餵食」
      And 餵食記錄的所屬魚缸為「主缸」

    Example: 新增餵食記錄，日期為空，新增失敗
      Given 耗材「紅蟲」tag 為「飼料」
      And 魚缸「主缸」存在
      When 使用者新增餵食記錄，日期為空，選擇耗材「紅蟲」，所屬魚缸為「主缸」
      Then 操作失敗
      And 系統提示「餵食記錄的日期不可為空」
  
  Rule: 使用者可以查詢所有餵食記錄
    Example: 查詢所有餵食記錄，系統中存在餵食記錄，查詢成功
      Given 餵食記錄 1 存在
      And 餵食記錄 2 存在
      When 使用者查詢所有餵食記錄
      Then 查詢結果應有餵食記錄 1
      And 查詢結果應有餵食記錄 2

    Example: 查詢所有餵食記錄，系統中不存在任何餵食記錄，查詢結果為空
      Given 系統中不存在任何餵食記錄
      When 使用者查詢所有餵食記錄
      Then 查詢結果應為空
  
  Rule: 使用者可以查詢特定魚缸中的餵食記錄
    Example: 查詢特定魚缸中的餵食記錄，該魚缸存在餵食記錄，查詢成功
      Given 魚缸「主缸」存在
      And 餵食記錄 1 屬於魚缸「主缸」
      And 餵食記錄 2 屬於魚缸「主缸」
      When 使用者查詢魚缸「主缸」中的餵食記錄
      Then 查詢結果應有餵食記錄 1
      And 查詢結果應有餵食記錄 2

    Example: 查詢特定魚缸中的餵食記錄，該魚缸不存在餵食記錄，查詢結果為空
      Given 魚缸「主缸」存在
      And 魚缸「主缸」中不存在任何餵食記錄
      When 使用者查詢魚缸「主缸」中的餵食記錄
      Then 查詢結果應為空
  
  Rule: 使用者可以更新餵食記錄的日期、使用的飼料、備註、所屬魚缸
    Example: 更新餵食記錄，更新所有欄位，更新成功
      Given 餵食記錄 1 存在
      And 耗材「紅蟲」tag 為「飼料」
      And 魚缸「主缸」存在
      When 使用者更新餵食記錄 1，日期為「2025-01-02」，選擇耗材「紅蟲」，備註為「下午餵食」，所屬魚缸為「主缸」
      Then 餵食記錄 1 被成功更新
      And 餵食記錄 1 的日期為「2025-01-02」
      And 餵食記錄 1 使用的耗材為「紅蟲」
      And 餵食記錄 1 的備註為「下午餵食」
      And 餵食記錄 1 的所屬魚缸為「主缸」

    Example: 更新不存在的餵食記錄，更新失敗
      Given 餵食記錄 1 不存在
      When 使用者更新餵食記錄 1
      Then 操作失敗
      And 系統提示「餵食記錄不存在」

    Example: 更新餵食記錄，選擇 tag 不為「飼料」的耗材，更新失敗
      Given 餵食記錄 1 存在
      And 耗材「藥品 A」tag 為「藥品」
      When 使用者更新餵食記錄 1，選擇耗材「藥品 A」
      Then 操作失敗
      And 系統提示「只能選擇 tag 為「飼料」的耗材」
  
  Rule: 使用者可以刪除餵食記錄
    Example: 刪除存在的餵食記錄，刪除成功
      Given 餵食記錄 1 存在
      When 使用者刪除餵食記錄 1
      Then 餵食記錄 1 被刪除

    Example: 刪除不存在的餵食記錄，刪除失敗
      Given 餵食記錄 1 不存在
      When 使用者刪除餵食記錄 1
      Then 操作失敗
      And 系統提示「餵食記錄不存在」